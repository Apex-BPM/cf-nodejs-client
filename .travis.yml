sudo: required

services:
  - docker

language: node_js
node_js:
  - "0.12"
  - 4.4.7
  - 5.10.1
  - 6.3.0

before_install:
  - sudo docker daemon -H fd:// -s devicemapper --storage-opt dm.basesize=30G
  - sudo docker pull tchughesiv/cf-mini
  - sudo docker run --privileged -v /lib/modules:/lib/modules:ro -p 80:80 -p 443:443 -p 4443:4443 -tdi tchughesiv/cf-mini
  - sudo apt-get update && apt-get install dnsmasq
  - sudo echo -e '\naddress=/cf-mini.example/10.x.x.x' >> /etc/dnsmasq.conf
  - sudo dpkg-reconfigure resolvconf
  - sudo /etc/init.d/dnsmasq restart

install: npm i

script: npm run lint
